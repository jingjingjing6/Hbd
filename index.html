<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Birthday</title>

<style>
/* --- å…¬å…±è®¾ç½® --- */
body, html {
    margin: 0;
    padding: 0;
    background: #fff;
    overflow: hidden;
    font-family: Arial, sans-serif;
}

/* åˆå§‹ç«–å±æç¤ºé¡µï¼ˆå”¯ä¸€ç«–å±é¡µé¢ï¼‰ */
#rotatePage {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: white;
    color: black;
    font-size: 7vw;
    z-index: 50;
}

/* ä»ç¬¬äºŒé¡µå¼€å§‹å…¨éƒ¨å¼ºåˆ¶æ¨ªå±æ˜¾ç¤º */
.landscapeForce {
    transform: rotate(90deg);
    transform-origin: center center;
    width: 100vh;
    height: 100vw;
    position: absolute;
    top: 0;
    left: calc((100vw - 100vh)/2);
    overflow: hidden;
}

/* --- Scene 2ï¼šimage2 å‡ºç°åŠ¨ç”» --- */
#scene2 {
    display: none;
    background: white;
}
#image2 {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%,50%) scale(0.2);
    opacity: 0;
    transition: all 3s ease-in-out;
}

/* --- Scene 3ï¼šå¤§å‹ç‚¹é˜µ LOADING --- */
#loading {
    display: none;
    background: white;
    position: relative;
}
.dot {
    width: 28px;
    height: 28px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    position: absolute;
    opacity: 0;
    transition: 0.3s ease;
}

/* é£˜è½ emoji */
.fallEmoji {
    position: absolute;
    font-size: 40px;
    animation: fall 3.5s linear infinite;
}
@keyframes fall {
    from { transform: translateY(-10vh); opacity: 1; }
    to { transform: translateY(120vh); opacity: 0; }
}

/* --- Scene 4ï¼šç®­å¤´ --- */
#arrowScene {
    display: none;
}
#arrow {
    width: 18vh;
    position: absolute;
    right: 5vh;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0;
    transition: 2s ease;
}

/* --- Scene 5ï¼šimage1 & æ°”æ³¡ç¥ç¦ --- */
#scene5 {
    display: none;
    background: white;
}
#image1BG {
    position: absolute;
    left: 0;
    top: 0;
    width: 100vh;
    height: 100vw;
    object-fit: cover;
}

.msgBubble {
    position: absolute;
    left: 5vh;
    padding: 2vh 3vh;
    background: rgba(255,255,255,0.9);
    border-radius: 25px;
    max-width: 80vh;
    font-size: 3vh;
    opacity: 0;
    transform: translateY(20px);
    transition: 1s ease;
}

/* --- Scene 6ï¼šè¯„åˆ†é¡µ --- */
#ratePage {
    display: none;
    color: white;
    background: black;
    text-align: center;
    font-size: 5vh;
}
#stars {
    margin-top: 4vh;
    font-size: 7vh;
}
.star {
    cursor: pointer;
    padding: 1vh;
}

/* --- 5 æ˜Ÿåç»“æŸé¡µ --- */
#thankPage {
    display: none;
    background: black;
    color: white;
    font-size: 5vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}
</style>
</head>
<body>

<!-- ç«–å±æç¤ºé¡µ -->
<div id="rotatePage">please rotate your phoneğŸ“±</div>

<!-- Scene 2ï¼šimage2 -->
<div id="scene2" class="landscapeForce">
    <img id="image2" src="image2.jpg">
</div>

<!-- Scene 3ï¼šloading ç‚¹é˜µ -->
<div id="loading" class="landscapeForce"></div>

<!-- Scene 4ï¼šç®­å¤´ -->
<div id="arrowScene" class="landscapeForce">
    <img id="arrow" src="image3.png">
</div>

<!-- Scene 5ï¼šèƒŒæ™¯ + æ°”æ³¡ -->
<div id="scene5" class="landscapeForce">
    <img id="image1BG" src="image1.jpg">
</div>

<!-- Scene 6ï¼šè¯„åˆ† -->
<div id="ratePage" class="landscapeForce">
    <div style="margin-top:20vh;">xD</div>
    <div style="font-size:4vh;margin-top:4vh;">please rate</div>
    <div id="stars">â˜† â˜† â˜† â˜† â˜†</div>
</div>

<!-- æœ€ç»ˆæ„Ÿè°¢é¡µ -->
<div id="thankPage" class="landscapeForce">
    thanks for your 5 star<br>(knew you would do this xD love you looots)
</div>

<script>
/* ---------------------------------
   æ—‹è½¬é¡µ â†’ è¿›å…¥ image2
-----------------------------------*/
setTimeout(() => {
    document.getElementById("rotatePage").style.display = "none";
    document.getElementById("scene2").style.display = "block";

    setTimeout(() => {
        let img2 = document.getElementById("image2");
        img2.style.opacity = "1";
        img2.style.transform = "translate(-50%,-50%) scale(1)";
    }, 300);

    setTimeout(showLoading, 9000);   // image2 åœç•™ 9 ç§’
}, 3000);

/* ---------------------------------
   Scene 3ï¼šç‚¹é˜µ LOADING
-----------------------------------*/
function showLoading() {
    document.getElementById("scene2").style.display = "none";
    const load = document.getElementById("loading");
    load.style.display = "block";

    const text = [
        // 12Ã—12 å¤§ç‚¹é˜µï¼Œæ¯ä¸ªå­—ç¬¦ä¸€ç»„ï¼ˆç®€åŒ–ç¤ºä¾‹ï¼‰
        "LOADING"
    ];

    const dotSize = 30;
    const spacing = 35;
    const startX = 20;
    const startY = 20;
    let index = 0;

    function placeDot(x, y, delay) {
        let d = document.createElement("div");
        d.className = "dot";
        d.style.backgroundImage = "url(image4.png)";
        d.style.left = x + "px";
        d.style.top = y + "px";
        d.style.transitionDelay = delay + "ms";
        load.appendChild(d);
        setTimeout(()=> d.style.opacity = 1, 30);
    }

    // ç®€å•ç”±å¤§å­—æ¯çš„ç‚¹é˜µ (æ­¤å¤„æä¾› L O A D I N G çš„ 12Ã—12 æ¨¡å¼)
    // ä¸ºèŠ‚çœç¯‡å¹…ï¼Œæˆ‘æä¾›ç¤ºä¾‹ã€‚å¦‚æœä½ å¸Œæœ›ï¼Œæˆ‘èƒ½æŒ‰ä½ è¦æ±‚ç”Ÿæˆæ›´ç²¾è‡´çš„ 16Ã—16 / 20Ã—20 ç‚¹é˜µã€‚

    const font = {
        "L":[
"100000000000",
"100000000000",
"100000000000",
"100000000000",
"100000000000",
"100000000000",
"100000000000",
"100000000000",
"100000000000",
"100000000000",
"111111111110",
"111111111110"],
        "O":[
"001111111100",
"011000001110",
"110000000011",
"110000000011",
"110000000011",
"110000000011",
"110000000011",
"110000000011",
"110000000011",
"110000000011",
"011000001110",
"001111111100"],
        "A":[
"000111110000",
"001100011000",
"011000001100",
"110000000110",
"110000000110",
"111111111110",
"111111111110",
"110000000110",
"110000000110",
"110000000110",
"110000000110",
"110000000110"],
        "D":[
"111111111000",
"110000001100",
"110000000110",
"110000000110",
"110000000110",
"110000000110",
"110000000110",
"110000000110",
"110000000110",
"110000000110",
"110000001100",
"111111111000"],
        "I":[
"111111111111",
"000011110000",
"000011110000",
"000011110000",
"000011110000",
"000011110000",
"000011110000",
"000011110000",
"000011110000",
"000011110000",
"111111111111",
"111111111111"],
        "N":[
"110000000011",
"111000000011",
"111100000011",
"110110000011",
"110011000011",
"110001100011",
"110000110011",
"110000011011",
"110000001111",
"110000000111",
"110000000011",
"110000000011"],
        "G":[
"001111111100",
"011000001110",
"110000000011",
"110000000000",
"110000000000",
"110001111111",
"110001111111",
"110000000011",
"110000000011",
"110000000011",
"011000001110",
"001111111100"]
    };

    let delay = 0;
    let cursorX = startX;

    for (let ch of text[0]) {
        let grid = font[ch];
        for (let r=0; r<12; r++) {
            for (let c=0; c<12; c++) {
                if (grid[r][c] === "1") {
                    placeDot(cursorX + c*spacing, startY + r*spacing, delay);
                    delay += 30;
                }
            }
        }
        cursorX += 13*spacing; // ä¸‹ä¸ªå­—æ¯
    }

    // â€œâ€¦â€ ä¸¤è½®
    let dotStartX = cursorX + 30;
    for (let round = 0; round < 2; round++) {
        for (let i=0;i<3;i++){
            placeDot(dotStartX + i*spacing, startY + 6*spacing, delay);
            delay += 100;
        }
    }

    // æ·»åŠ é£˜è½ emoji
    function addEmoji() {
        const e = document.createElement("div");
        e.className = "fallEmoji";
        const arr = ["ğŸ‚","ğŸ§","â­","ğŸ’›"];
        e.innerText = arr[Math.floor(Math.random()*arr.length)];
        e.style.left = Math.random()*80 + "vh";
        e.style.top = "-10vh";
        load.appendChild(e);
        setTimeout(()=> e.remove(), 4000);
    }
    setInterval(addEmoji,400);

    setTimeout(showArrow, delay + 2000);
}

/* ---------------------------------
   Scene 4ï¼šç®­å¤´å‡ºç°
-----------------------------------*/
function showArrow() {
    document.getElementById("loading").style.display="none";
    const scene = document.getElementById("arrowScene");
    scene.style.display="block";
    setTimeout(()=>{
        document.getElementById("arrow").style.opacity="1";
    },100);

    setTimeout(()=>{
        document.getElementById("arrow").style.opacity="0";
    },2000);

    setTimeout(showScene5, 4000);
}

/* ---------------------------------
   Scene 5ï¼šèƒŒæ™¯ + æ°”æ³¡
-----------------------------------*/
function showScene5() {
    document.getElementById("arrowScene").style.display="none";
    const s = document.getElementById("scene5");
    s.style.display="block";

    const msgs = [
"Heyyy Ahmed, happy birthday to you!ğŸ¥³",
"If I could give you something today, it would be a quiet moment where nothing hurts and presses you",
"I see how much youâ€™re carrying, and I respect you for that!",
"I hope this year brings you more ease so that you can breathe. ğŸ«‚",
"Remember! You can always be yourself with me! Lots of love!ğŸ¥°"
    ];

    let y = 30;
    let delay = 0;

    msgs.forEach((t,i)=>{
        setTimeout(()=>{
            let b = document.createElement("div");
            b.className = "msgBubble";
            b.style.top = y+"vh";
            b.innerHTML = t;
            s.appendChild(b);
            setTimeout(()=> b.style.opacity=1,50);
            y += 15;
        }, delay);
        delay += 5000;
    });

    setTimeout(showRate, delay + 8000);
}

/* ---------------------------------
   Scene 6ï¼šè¯„åˆ†
-----------------------------------*/
function showRate() {
    document.getElementById("scene5").style.display = "none";
    document.getElementById("ratePage").style.display = "block";

    const stars = document.querySelectorAll("#stars .star");
}

document.getElementById("stars").innerHTML = "â˜† â˜† â˜† â˜† â˜†"
    .split(" ")
    .map((s,i)=>`<span class="star" data-i="${i}">${s}</span>`).join("");

document.querySelectorAll(".star").forEach(st=>{
    st.addEventListener("click",()=>{
        let n = Number(st.dataset.i)+1;
        document.getElementById("stars").innerHTML =
            "â­".repeat(n) + "â˜†".repeat(5-n);
        if (n===5) {
            setTimeout(showThanks, 800);
        }
    });
});

/* ---------------------------------
   æœ€ç»ˆæ„Ÿè°¢é¡µ
-----------------------------------*/
function showThanks() {
    document.getElementById("ratePage").style.display = "none";
    document.getElementById("thankPage").style.display = "flex";
}
</script>
</body>
</html>
