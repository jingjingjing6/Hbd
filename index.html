<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HBD â¤ï¸</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    font-family: Arial, sans-serif;
    background: #fff;
}

/* æ‰‹æœºç«–å±æç¤º */
#rotateScreen {
    position: fixed;
    inset: 0;
    display: none;
    justify-content: center;
    align-items: center;
    background: white;
    color: black;
    font-size: 32px;
    z-index: 10;
}

/* æ¨ªå±å®¹å™¨ï¼ˆrotateï¼‰ */
#landscapeWrapper {
    display: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100vh;
    height: 100vw;
    transform: rotate(90deg);
    transform-origin: left top;
    background: white;
    overflow: hidden;
}

/* image2 åŠ¨ç”»ï¼ˆæ–œè§’æ¨å…¥ï¼‰ */
#image2 {
    position: absolute;
    width: auto;
    height: auto;
    max-width: none;
    max-height: none;
    left: -40%;
    top: 140%;
    opacity: 0;
    transition: all 3.5s ease-in-out;
}

#image2.show {
    opacity: 1;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}

/* æŸ”å…‰ç™½è¾¹é®ç½© */
#softMask {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle, rgba(255,255,255,0.7), rgba(255,255,255,1) 85%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 2s ease;
}

/* loading éƒ¨åˆ† */
#loadingArea {
    position: absolute;
    inset: 0;
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

#pixelLoading {
    display: grid;
    grid-template-columns: repeat(40, 20px);
    grid-gap: 4px;
}

/* loading åƒç´ ç‚¹ */
.pixelDot {
    width: 20px;
    height: 20px;
    opacity: 0;
}

/* é£˜è½ emoji */
.falling {
    position: absolute;
    font-size: 40px;
    top: -10%;
    animation: fall 4.5s linear forwards;
    pointer-events: none;
}

@keyframes fall {
    0% { opacity: 1; transform: translateY(-30px); }
    100% { opacity: 0; transform: translateY(110vh); }
}

/* ç®­å¤´ */
#arrowRight {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0;
    width: 120px;
    display: none;
    transition: opacity 2s ease-in-out;
}

/* æ°”æ³¡ */
.bubble {
    background: rgba(255,255,255,0.92);
    padding: 16px 26px;
    border-radius: 22px;
    max-width: 72%;
    font-size: 26px;
    margin-bottom: 20px;
    box-shadow: 0px 6px 12px rgba(0,0,0,0.15);
    opacity: 0;
    transform: translateX(-40px);
    transition: all 1.2s ease;
}

/* ç»“å°¾é¡µ */
#endPage {
    position: absolute;
    inset: 0;
    background: black;
    color: white;
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    font-size: 42px;
}

#rating {
    margin-top: 20px;
    font-size: 55px;
    cursor: pointer;
}
</style>
</head>

<body>

<!-- rotate -->
<div id="rotateScreen">please rotate your phoneğŸ“±</div>

<!-- æ¨ªå±ä¸»ä½“ -->
<div id="landscapeWrapper">

    <!-- image2 -->
    <img id="image2" src="image2.jpg">
    <div id="softMask"></div>

    <!-- loading -->
    <div id="loadingArea">
        <div id="pixelLoading"></div>
    </div>

    <!-- åˆ‡æ¢ç®­å¤´ -->
    <img src="image3.png" id="arrowRight">

    <!-- æ°”æ³¡ -->
    <div id="bubbleArea" style="position:absolute; left:10%; bottom:20%;"></div>

    <!-- ç»“æŸé¡µ -->
    <div id="endPage">
        xD
        <div style="margin-top:18px; font-size:30px;">please rate</div>
        <div id="rating">â˜†â˜†â˜†â˜†â˜†</div>
    </div>
</div>

<script>
/* è®¾å¤‡åˆ¤æ–­ */
const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

/* å±•ç¤ºæ¨ªå±ä¸»ä½“ */
function showMain(){
    document.getElementById("rotateScreen").style.display="none";
    document.getElementById("landscapeWrapper").style.display="block";
    animateImage2();
}

/* æ‰‹æœºç«–å± â†’ rotate */
if (isMobile && window.innerHeight > window.innerWidth){
    document.getElementById("rotateScreen").style.display="flex";
    setTimeout(showMain, 3000);
} else {
    showMain();
}

/* image2 åŠ¨ç”» */
function animateImage2(){
    const img = document.getElementById("image2");
    img.classList.add("show");
    setTimeout(()=>document.getElementById("softMask").style.opacity=1,1500);
    setTimeout(startLoading, 9000);
}

/* LOADING åƒç´ å­—æ¯çŸ©é˜µï¼ˆA æ–¹æ¡ˆï¼‰ */
const letterMatrix = {
    L:[
        "1","1","1","1","1",
        "1","0","0","0","0",
        "1","0","0","0","0",
        "1","0","0","0","0",
        "1","1","1","1","1"
    ],
    O:[
        "1","1","1","1","1",
        "1","0","0","0","1",
        "1","0","0","0","1",
        "1","0","0","0","1",
        "1","1","1","1","1"
    ],
    A:[
        "0","1","1","1","0",
        "1","0","0","0","1",
        "1","1","1","1","1",
        "1","0","0","0","1",
        "1","0","0","0","1"
    ],
    D:[
        "1","1","1","1","0",
        "1","0","0","0","1",
        "1","0","0","0","1",
        "1","0","0","0","1",
        "1","1","1","1","0"
    ],
    I:[
        "1","1","1",
        "0","1","0",
        "0","1","0",
        "0","1","0",
        "1","1","1"
    ],
    N:[
        "1","0","0","0","1",
        "1","1","0","0","1",
        "1","0","1","0","1",
        "1","0","0","1","1",
        "1","0","0","0","1"
    ]
};

/* ç”Ÿæˆ LOADING.. ç‚¹é˜µ */
function startLoading(){

    document.getElementById("loadingArea").style.display="flex";

    const container = document.getElementById("pixelLoading");
    container.style.gridTemplateColumns = "repeat(40,20px)";

    const word = ["L","O","A","D","I","N","G",".",".","L","O","A","D","I","N","G",".","."];

    let dots = [];

    word.forEach(ch=>{

        if(ch==="."){
            let empty = document.createElement("div");
            empty.style.width="20px";
            empty.style.height="20px";
            container.appendChild(empty);

            let dot = document.createElement("img");
            dot.src = "image4.png";
            dot.className = "pixelDot";
            container.appendChild(dot);
            dots.push(dot);

            return;
        }

        const matrix = letterMatrix[ch];

        const w = ch==="I" ? 3 : 5 ;

        for(let i=0;i<matrix.length;i++){
            let cell = document.createElement("img");
            cell.src="image4.png";
            cell.className="pixelDot";
            if(matrix[i]==="0") cell.style.opacity=0;
            container.appendChild(cell);
            if(matrix[i]==="1") dots.push(cell);
        }

        let spacer = document.createElement("div");
        spacer.style.width="20px";
        spacer.style.height="20px";
        container.appendChild(spacer);
    });

    let idx=0;
    function lightUp(){
        if(idx>=dots.length){
            setTimeout(showArrow,1000);
            return;
        }
        dots[idx].style.opacity=1;
        idx++;
        setTimeout(lightUp, 55);
    }
    lightUp();

    spawnEmojis();
}

/* emoji é£˜è½ */
function spawnEmojis(){
    const emojis=["ğŸ‚","ğŸ§","â­","ğŸ’›"];
    setInterval(()=>{
        const el=document.createElement("div");
        el.className="falling";
        el.innerText=emojis[Math.floor(Math.random()*emojis.length)];
        el.style.left=Math.random()*100+"vw";
        document.getElementById("landscapeWrapper").appendChild(el);
        setTimeout(()=>el.remove(),5000);
    },260);
}

/* ç®­å¤´ */
function showArrow(){
    const a=document.getElementById("arrowRight");
    a.style.display="block";
    setTimeout(()=>a.style.opacity=1, 50);

    setTimeout(()=>{
        a.style.opacity=0;
        setTimeout(showBubbles,2000);
    },2000);
}

/* æ°”æ³¡ */
const msgs = [
    "Heyyy Ahmed, happy birthday to you!ğŸ¥³",
    "If I could give you something today, it would be a quiet moment where nothing hurts and presses you",
    "I see how much youâ€™re carrying, and I respect you for that!",
    "I hope this year brings you more ease so that you can breathe. ğŸ«‚",
    "Remember! You can always be yourself with me! Lots of love!ğŸ¥°"
];

function showBubbles(){
    const box = document.getElementById("bubbleArea");
    let i=0;

    function next(){
        if(i>=msgs.length){
            setTimeout(showEnd,8000);
            return;
        }
        let b=document.createElement("div");
        b.className="bubble";
        b.innerText=msgs[i];
        box.appendChild(b);

        setTimeout(()=>b.style.opacity=1,50);
        setTimeout(()=>b.style.transform="translateX(0)",50);

        i++;
        setTimeout(next,5000);
    }
    next();
}

/* æœ€ç»ˆé¡µ */
function showEnd(){
    document.getElementById("endPage").style.display="flex";

    /* æœ€ç»ˆé¡µ emoji */
    setInterval(()=>{
        const e=document.createElement("div");
        e.className="falling";
        e.innerText=["ğŸ‚","ğŸ§","â­","ğŸ’›"][Math.floor(Math.random()*4)];
        e.style.left=Math.random()*100+"vw";
        document.getElementById("endPage").appendChild(e);
        setTimeout(()=>e.remove(),5000);
    },300);
}

/* æ˜Ÿæ˜Ÿè¯„åˆ† */
document.getElementById("rating").addEventListener("click",function(){
    this.innerText="â­â­â­â­â­";
    setTimeout(()=>{
        document.body.innerHTML=`
        <div style="position:absolute;inset:0;background:black;color:white;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:34px;">
            thanks for your 5 star<br><br>
            (knew you would do this xD love you looots)<br><br>
            jingjingjing6<br>
            https://github.com/jingjingjing6/Hbd2aa10
        </div>`;
    },500);
});
</script>

</body>
</html>

