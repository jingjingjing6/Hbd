<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HBD Ahmed</title>

<style>
/* Reset */
body,html{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:#fff;
  overflow:hidden;
  font-family:Arial, sans-serif;
}

/* ROTATE PAGE */
#rotatePage{
  position:fixed;
  inset:0;
  background:white;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:7vw;
  font-weight:700;
  z-index:1000;
}

/* MAIN CONTENT hidden initially */
#mainContent{
  display:none;
  width:100vw;
  height:100vh;
  position:relative;
  overflow:hidden;
}

/* ============= IMAGE2 ANIMATION (Diagonal reveal) ============ */
#image2Container{
  position:absolute;
  inset:0;
  background:white;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}
#image2{
  width:auto;
  height:auto;
  max-width:100%;
  max-height:100%;
  opacity:0;
  transform:translate(-40%,40%) rotate(-8deg);
  transition:opacity 3s ease, transform 6s ease;
}

/* ============== LOADING PAGE ============= */
#loadingPage{
  position:absolute;
  inset:0;
  background:white;
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

.pixelRow{
  display:flex;
  flex-direction:row;
  justify-content:center;
}
.pixel{
  width:22px;
  height:22px;
  margin:3px;
  opacity:0;
  transition:opacity .3s;
  background-size:cover;
}

/* emoji rain */
.emoji{
  position:fixed;
  top:-10vh;
  font-size:2.2rem;
  animation:fall 4s linear infinite;
}
@keyframes fall{
  to{
    transform:translateY(120vh);
    opacity:0;
  }
}

/* ============ ARROW (image3) ============ */
#arrowPage{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:flex-end;
  padding-right:5vw;
}
#arrow{
  width:18vw;
  opacity:0;
  transition:opacity 2s;
}

    /* ============ IMAGE1 BACKGROUND + MESSAGE BUBBLES ============ */
#messagePage{
  position:absolute;
  inset:0;
  display:none;
  background:white;
  overflow:hidden;
}

#bgImage1{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:0;
  transition:opacity 3s ease;
}

/* bubble */
.bubble{
  max-width:80%;
  margin-left:5vw;
  padding:12px 18px;
  margin-bottom:18px;
  background:rgba(255,255,255,0.95);
  border-radius:18px;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
  opacity:0;
  transform:translateY(20px);
  transition:opacity .8s ease, transform .8s ease;
  font-size:4vw;
}

/* ============ FINAL PAGE ============ */
#finalPage{
  position:absolute;
  inset:0;
  background:black;
  display:none;
  color:white;
  font-size:7vw;
  font-weight:bold;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
#rateText{
  margin-top:5vh;
  font-size:5vw;
}
#stars{
  margin-top:3vh;
  font-size:10vw;
  cursor:pointer;
  user-select:none;
}

/* THANK YOU PAGE */
#thankPage{
  position:absolute;
  inset:0;
  background:black;
  color:white;
  display:none;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:5vw;
  font-size:5.5vw;
}
</style>
</head>

<body>

<!-- ROTATE PAGE -->
<div id="rotatePage">please rotate your phoneüì±</div>

<!-- MAIN CONTENT -->
<div id="mainContent">

  <!-- IMAGE2 -->
  <div id="image2Container">
    <img src="image2.jpg" id="image2">
  </div>

  <!-- LOADING PAGE -->
  <div id="loadingPage"></div>

  <!-- ARROW PAGE -->
  <div id="arrowPage">
    <img src="image3.png" id="arrow">
  </div>

  <!-- MESSAGE PAGE -->
  <div id="messagePage">
    <img id="bgImage1" src="image1.jpg">
  </div>

  <!-- FINAL PAGE -->
  <div id="finalPage">
    xD
    <div id="rateText">please rate</div>
    <div id="stars">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</div>
  </div>

  <!-- THANK YOU PAGE -->
  <div id="thankPage">
    thanks for your 5 star<br><br>
    (knew you would do this xD love you looots<br><br>
    jingjingjing6<br>
    https://github.com/jingjingjing6/Hbd2aa10
  </div>

</div>

<script>
// ======== HELPERS ========
function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

// emoji rain generator
function spawnEmoji(){
  const emojis = ["üéÇ","üßÅ","‚≠ê","üíõ"];
  const e = document.createElement("div");
  e.className="emoji";
  e.textContent = emojis[Math.floor(Math.random()*emojis.length)];
  e.style.left = Math.random()*90+"vw";
  e.style.animationDuration = (3+Math.random()*2)+"s";
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),5000);
}

// ========== PIXEL LOADING WORD ==========
// ÁÇπÈòµÂ≠óÔºöLOADING...
const loadingPattern = [
"1110111  111  111",
"1010101  010  010",
"1010101  111  111",
"1010101  010  000",
"1110111  111  111"
];

// ========== MAIN SEQUENCE ==========
async function start(){

  /* rotate page logic */
  const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

  if(isMobile){
    await sleep(3000);
    document.getElementById("rotatePage").style.display="none";
  }else{
    document.getElementById("rotatePage").style.display="none";
  }

  document.getElementById("mainContent").style.display="block";

  /* FORCE LANDSCAPE LAYOUT */
  document.body.style.transformOrigin="left top";
  if(window.innerHeight>window.innerWidth){
    document.body.style.transform="rotate(90deg)";
  }

  /* =========== IMAGE2 ANIMATION ========== */
  const img2 = document.getElementById("image2");
  await sleep(100);
  img2.style.opacity="1";
  img2.style.transform="translate(0,0) rotate(0)";
  await sleep(9000);

  /* =========== LOADING PAGE ========== */
  const loading = document.getElementById("loadingPage");
  loading.style.display="flex";

  // build pixel matrix
  for(let r=0;r<loadingPattern.length;r++){
    const row = document.createElement("div");
    row.className="pixelRow";

    for(let c=0;c<loadingPattern[r].length;c++){
      const ch = loadingPattern[r][c];
      const px = document.createElement("div");

      if(ch==="1"){
        px.className="pixel";
        px.style.backgroundImage="url('image4.png')";
      }else{
        px.style.width="22px";
        px.style.height="22px";
        px.style.margin="3px";
        px.style.opacity="0";
      }

      row.appendChild(px);
    }

    loading.appendChild(row);
  }

  // pixel appear two loops
  const pixels = document.querySelectorAll(".pixel");
  for(let loop=0;loop<2;loop++){
    for(let i=0;i<pixels.length;i++){
      pixels[i].style.opacity="1";
      spawnEmoji();
      await sleep(35);
    }
    await sleep(400);
  }
  await sleep(1000);
  loading.style.display="none";

  /* =========== ARROW PAGE ========== */
  const arrowPage = document.getElementById("arrowPage");
  const arrow = document.getElementById("arrow");
  arrowPage.style.display="flex";
  await sleep(100);
  arrow.style.opacity="1";
  await sleep(2000);
  arrow.style.opacity="0";
  await sleep(1500);
  arrowPage.style.display="none";

  /* =========== IMAGE1 + BUBBLES ========== */
  const msgPage = document.getElementById("messagePage");
  const bg = document.getElementById("bgImage1");
  msgPage.style.display="block";
  await sleep(50);
  bg.style.opacity="1";

  const messages = [
    "Heyyy Ahmed, happy birthday to you!ü•≥",
    "If I could give you something today, it would be a quiet moment where nothing hurts and presses you",
    "I see how much you‚Äôre carrying, and I respect you for that!",
    "I hope this year brings you more ease so that you can breathe. ü´Ç",
    "Remember! You can always be yourself with me! Lots of love!ü•∞"
  ];

  for(let m of messages){
    const b = document.createElement("div");
    b.className="bubble";
    b.textContent = m;
    msgPage.appendChild(b);
    await sleep(50);
    b.style.opacity="1";
    b.style.transform="translateY(0)";
    await sleep(5000);
  }

  await sleep(8000);

  /* =========== FINAL PAGE ========== */
  const final = document.getElementById("finalPage");
  final.style.display="flex";

  // emoji rain in final page too
  const rainInt = setInterval(spawnEmoji,400);

  // handle stars
  const stars = document.getElementById("stars");
  stars.onclick = async function(e){
    if(e.target.innerText){
      let idx = stars.innerText.indexOf("‚òÜ");
      if(idx===-1) idx=5;
      else idx = idx;
      let n = idx+1;
      if(n>5) n=5;
      stars.innerText = "‚≠ê".repeat(n) + "‚òÜ".repeat(5-n);

      if(n===5){
        clearInterval(rainInt);
        await sleep(600);
        final.style.display="none";
        document.getElementById("thankPage").style.display="flex";
      }
    }
  };

}

// start only after DOM ready
window.onload = start;
</script>

</body>
</html>

